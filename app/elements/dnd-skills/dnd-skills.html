<link rel="import" href="dnd-skill.html">

<dom-module id="dnd-skills">
    <style>

        .sfi {
            text-align: left;
            background-color: white;
            width: 150px;
            height: 30px;
        }

        paper-input.sfi {
            --paper-input-container-focus-color: transparent;
            --paper-input-container-underline: {
                display: none;
            }
            --paper-input-container: {
                padding-left: 5px;
                padding-right: 5px;
                padding-top: 5px;
            }
        }

        ul {
            list-style: none;
            padding-left: 15px;
            padding-right: 15px;
        }

        li + li {
            border-top: solid 1px #666;
        }

        paper-toolbar {
            background-color: #800;
            height: 40px;

          --paper-toolbar: {
            @apply(--layout-vertical);
          };
        }

    </style>

    <template>
        <paper-header-panel>
            <paper-toolbar>
                <table width=100%>
                    <tr>
                        <td>
                            <div class="paper-header">Skills</div>
                        </td>
                        <td align="center">
                            <paper-input class="sfi" value="{{sf::input}}" label="Skill Filter" no-label-float></paper-input>
                        </td>
                    </tr>
                </table>
            </paper-toolbar>
            <ul>
                <template is="dom-repeat" items="{{skills}}" as="skill" filter="{{skillFilter(sf)}}">
                    <li>
                        <dnd-skill
                            key="{{skill.key}}"
                            text="{{skill.text}}"
                            kind="{{skill.kind}}"
                            checked="{{skill.checked}}"
                            score="{{skill.score}}"
                            pb="{{skill.pb}}">
                        </dnd-skill>
                    </li>
                </template>
            </ul>
        </paper-header-panel>
    </template>

</dom-module>



<script>
    Polymer({
        is: "dnd-skills",

        properties: {
            scroll: "true",
            skills: {
                type: Array,
                notify: true,
                value: [
                    {key: "acr", text: "Acrobatics", kind: "dexterity", checked: false, score: 0, pb: 0},
                    {key: "anh", text: "Animal Handling", kind: "wisdom", checked: false, score: 0, pb: 0},
                    {key: "arc", text: "Arcana", kind: "intelligence", checked: false, score: 0, pb: 0},
                    {key: "ath", text: "Athletics", kind: "strength", checked: false, score: 0, pb: 0},
                    {key: "dec", text: "Deception", kind: "charisma", checked: false, score: 0, pb: 0},
                    {key: "his", text: "History", kind: "intelligence", checked: false, score: 0, pb: 0},
                    {key: "ins", text: "Insight", kind: "wisdom", checked: false, score: 0, pb: 0},
                    {key: "int", text: "Intimidation", kind: "charisma", checked: false, score: 0, pb: 0},
                    {key: "inv", text: "Investigation", kind: "intelligence", checked: false, score: 0, pb: 0},
                    {key: "med", text: "Medicine", kind: "wisdom", checked: false, score: 0, pb: 0},
                    {key: "nat", text: "Nature", kind: "intelligence", checked: false, score: 0, pb: 0},
                    {key: "cep", text: "Perception", kind: "wisdom", checked: false, score: 0, pb: 0},
                    {key: "for", text: "Performance", kind: "charisma", checked: false, score: 0, pb: 0},
                    {key: "sua", text: "Persuasion", kind: "charisma", checked: false, score: 0, pb: 0},
                    {key: "rel", text: "Religion", kind: "intelligence", checked: false, score: 0, pb: 0},
                    {key: "soh", text: "Sleight of Hand", kind: "dexterity", checked: false, score: 0, pb: 0},
                    {key: "sth", text: "Stealth", kind: "dexterity", checked: false, score: 0, pb: 0},
                    {key: "sur", text: "Survival", kind: "wisdom", checked: false, score: 0, pb: 0},
                ]
            },
        },

        skillFilter: function(sf) {
            return function(skill) {
                if (!sf) return true;
                return skill.text.toLowerCase().includes(sf.toLowerCase());
            };
        },
    });
</script>
